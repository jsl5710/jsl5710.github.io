{{/* Custom gallery shortcode for HugoBlox kit/modules/blox */}}
{{/* Usage: {{< gallery album="demo" >}} */}}

{{ $album := .Get "album" | default "demo" }}
{{ $images := resources.Match (printf "media/albums/%s/*" $album) }}

{{ if $images }}
<div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 my-8">
  {{ range $images }}
    {{ $resized := .Fit "600x600" }}
    <a href="{{ .RelPermalink }}" class="group block overflow-hidden rounded-lg shadow-md hover:shadow-xl transition-shadow duration-300" target="_blank">
      <img src="{{ $resized.RelPermalink }}"
           alt=""
           width="{{ $resized.Width }}"
           height="{{ $resized.Height }}"
           loading="lazy"
           class="w-full h-48 object-cover group-hover:scale-105 transition-transform duration-300" />
    </a>
  {{ end }}
</div>
{{ end }}
